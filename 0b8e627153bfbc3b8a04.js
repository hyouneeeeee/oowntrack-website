var webWorker=self;function getSearchNodes(e,n){var r=[],t={};return e.forEach((function(e){var i,a,l,o,u,d=null==e||null===(i=e.name)||void 0===i||null===(i=i.trim())||void 0===i?void 0:i.toLocaleLowerCase(),s=null!==(a=null==e||null===(l=e.pinyinName)||void 0===l||null===(l=l.trim())||void 0===l?void 0:l.toLocaleLowerCase())&&void 0!==a?a:"",c=null!==(o=null==n||null===(u=n.trim())||void 0===u?void 0:u.toLocaleLowerCase())&&void 0!==o?o:"";(d.includes(c)||s.includes(c)||Reflect.has(r,e.parentID))&&(e.path.split(",").forEach((function(e){"ROOT"!==e&&(t[e]=e)})),r[e._id]=e._id)})),{searchMapNodes:r,searchParentMapNodes:t}}function getRenderKeys(e,n,r){if(null!=n&&n.trim()){var t=[],i=getSearchNodes(e,n),a=i.searchMapNodes,l=i.searchParentMapNodes;return e.forEach((function(e){if(Reflect.has(a,e._id)||Reflect.has(l,e._id)){var n=e.path.split(",").filter((function(e){return"ROOT"!==e}));(!n.length||n.length&&n.every((function(e){return r.includes(e)})))&&t.push(e)}})),t}return e.filter((function(e){var n=e.path.split(",").filter((function(e){return"ROOT"!==e}));if(!n.length||n.length&&n.every((function(e){return r.includes(e)})))return e}))}webWorker.onmessage=function(e){var n,r,t=e.data.value,i=t.searchKey,a=null!==(n=null===(r=getRenderKeys(t.data,i,t.expandedKeys))||void 0===r?void 0:r.map((function(e){return e._id})))&&void 0!==n?n:[];self.postMessage({id:e.data.id,value:a})};